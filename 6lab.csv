/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
using System;

public class Computer
{
    public string CPU { get; set; }
    public string RAM { get; set; }
    public string Storage { get; set; }
    public string GPU { get; set; }
    public string OS { get; set; }
    public string CoolingSystem { get; set; }
    public string PowerSupply { get; set; }

    public override string ToString()
    {
        return $"Компьютер: CPU - {CPU}, RAM - {RAM}, Накопитель - {Storage}, GPU - {GPU}, ОС - {OS}, Охлаждение - {CoolingSystem}, БП - {PowerSupply}";
    }
}

public interface IComputerBuilder
{
    void SetCPU();
    void SetRAM();
    void SetStorage();
    void SetGPU();
    void SetOS();
    void SetCoolingSystem();
    void SetPowerSupply();
    Computer GetComputer();
}

public class OfficeComputerBuilder : IComputerBuilder
{
    private Computer _computer = new Computer();

    public void SetCPU() => _computer.CPU = "Intel i3";
    public void SetRAM() => _computer.RAM = "8GB";
    public void SetStorage() => _computer.Storage = "1TB HDD";
    public void SetGPU() => _computer.GPU = "Integrated";
    public void SetOS() => _computer.OS = "Windows 10";
    public void SetCoolingSystem() => _computer.CoolingSystem = "Standard Air Cooling";
    public void SetPowerSupply() => _computer.PowerSupply = "400W";

    public Computer GetComputer() => _computer;
}

public class GamingComputerBuilder : IComputerBuilder
{
    private Computer _computer = new Computer();

    public void SetCPU() => _computer.CPU = "Intel i9";
    public void SetRAM() => _computer.RAM = "32GB";
    public void SetStorage() => _computer.Storage = "1TB SSD";
    public void SetGPU() => _computer.GPU = "NVIDIA RTX 3080";
    public void SetOS() => _computer.OS = "Windows 11";
    public void SetCoolingSystem() => _computer.CoolingSystem = "Water Cooling";
    public void SetPowerSupply() => _computer.PowerSupply = "750W";

    public Computer GetComputer() => _computer;
}

public class ServerComputerBuilder : IComputerBuilder
{
    private Computer _computer = new Computer();

    public void SetCPU() => _computer.CPU = "Intel Xeon";
    public void SetRAM() => _computer.RAM = "64GB ECC";
    public void SetStorage() => _computer.Storage = "4TB SSD RAID";
    public void SetGPU() => _computer.GPU = "None";
    public void SetOS() => _computer.OS = "Linux Server";
    public void SetCoolingSystem() => _computer.CoolingSystem = "Industrial Air Cooling";
    public void SetPowerSupply() => _computer.PowerSupply = "1000W Redundant";

    public Computer GetComputer() => _computer;
}

public class ComputerDirector
{
    private IComputerBuilder _builder;

    public ComputerDirector(IComputerBuilder builder)
    {
        _builder = builder;
    }

    public void ConstructComputer()
    {
        _builder.SetCPU();
        _builder.SetRAM();
        _builder.SetStorage();
        _builder.SetGPU();
        _builder.SetOS();
        _builder.SetCoolingSystem();
        _builder.SetPowerSupply();

        if (_builder.GetComputer().GPU == "NVIDIA RTX 3080" && _builder.GetComputer().PowerSupply == "400W")
        {
            throw new InvalidOperationException("Недостаточно мощности для видеокарты.");
        }
    }

    public Computer GetComputer()
    {
        return _builder.GetComputer();
    }
}

class Program
{
    static void Main(string[] args)
    {
        try
        {
            IComputerBuilder officeBuilder = new OfficeComputerBuilder();
            ComputerDirector director = new ComputerDirector(officeBuilder);
            director.ConstructComputer();
            Computer officeComputer = director.GetComputer();
            Console.WriteLine("Офисный компьютер:");
            Console.WriteLine(officeComputer);
            Console.WriteLine();

            IComputerBuilder gamingBuilder = new GamingComputerBuilder();
            director = new ComputerDirector(gamingBuilder);
            director.ConstructComputer();
            Computer gamingComputer = director.GetComputer();
            Console.WriteLine("Игровой компьютер:");
            Console.WriteLine(gamingComputer);
            Console.WriteLine();

            IComputerBuilder serverBuilder = new ServerComputerBuilder();
            director = new ComputerDirector(serverBuilder);
            director.ConstructComputer();
            Computer serverComputer = director.GetComputer();
            Console.WriteLine("Серверный компьютер:");
            Console.WriteLine(serverComputer);
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Ошибка: {ex.Message}");
        }
    }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
